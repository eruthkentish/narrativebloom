<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; -webkit-text-stroke: #000000}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #900112; -webkit-text-stroke: #900112}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; -webkit-text-stroke: #000000; min-height: 16.0px}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #0000ff; -webkit-text-stroke: #0000ff}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #0f7001; -webkit-text-stroke: #0f7001}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #0e6e6d; -webkit-text-stroke: #0e6e6d}
    span.s1 {font-kerning: none; color: #0000ff; background-color: #fffffe; -webkit-text-stroke: 0px #0000ff}
    span.s2 {font-kerning: none; background-color: #fffffe}
    span.s3 {font-kerning: none; color: #0e6e6d; background-color: #fffffe; -webkit-text-stroke: 0px #0e6e6d}
    span.s4 {font-kerning: none; color: #900112; background-color: #fffffe; -webkit-text-stroke: 0px #900112}
    span.s5 {font-kerning: none; color: #000000; background-color: #fffffe; -webkit-text-stroke: 0px #000000}
    span.s6 {font-kerning: none}
    span.s7 {font-kerning: none; color: #137646; background-color: #fffffe; -webkit-text-stroke: 0px #137646}
  </style>
</head>
<body>
<p class="p1"><span class="s1">import</span><span class="s2"> </span><span class="s3">React</span><span class="s2">, { useState, useEffect } </span><span class="s1">from</span><span class="s2"> </span><span class="s4">'react'</span><span class="s2">;</span></p>
<p class="p2"><span class="s1">import</span><span class="s5"> { motion } </span><span class="s1">from</span><span class="s5"> </span><span class="s2">'framer-motion'</span><span class="s5">;</span></p>
<p class="p2"><span class="s1">import</span><span class="s5"> { </span><span class="s3">WritingPrompt</span><span class="s5"> } </span><span class="s1">from</span><span class="s5"> </span><span class="s2">'@/entities/WritingPrompt'</span><span class="s5">;</span></p>
<p class="p2"><span class="s1">import</span><span class="s5"> </span><span class="s3">PromptCard</span><span class="s5"> </span><span class="s1">from</span><span class="s5"> </span><span class="s2">'../components/writing/PromptCard'</span><span class="s5">;</span></p>
<p class="p2"><span class="s1">import</span><span class="s5"> { </span><span class="s3">Loader2</span><span class="s5">, </span><span class="s3">Search</span><span class="s5"> } </span><span class="s1">from</span><span class="s5"> </span><span class="s2">'lucide-react'</span><span class="s5">;</span></p>
<p class="p2"><span class="s1">import</span><span class="s5"> { </span><span class="s3">Input</span><span class="s5"> } </span><span class="s1">from</span><span class="s5"> </span><span class="s2">'@/components/ui/input'</span><span class="s5">;</span></p>
<p class="p3"><span class="s6"></span><br></p>
<p class="p4"><span class="s2">export</span><span class="s5"> </span><span class="s2">default</span><span class="s5"> </span><span class="s2">function</span><span class="s5"> </span><span class="s3">GuidedWriting</span><span class="s5">() {</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> [prompts, setPrompts] = useState([]);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> [isLoading, setIsLoading] = useState(</span><span class="s1">true</span><span class="s2">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> [searchTerm, setSearchTerm] = useState(</span><span class="s4">""</span><span class="s2">);</span></p>
<p class="p3"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span>useEffect(() =&gt; {</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s1">const</span><span class="s2"> fetchPrompts = </span><span class="s1">async</span><span class="s2"> () =&gt; {</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span>setIsLoading(</span><span class="s1">true</span><span class="s2">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s1">try</span><span class="s2"> {</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s1">const</span><span class="s2"> allPrompts = </span><span class="s1">await</span><span class="s2"> </span><span class="s3">WritingPrompt</span><span class="s2">.list(</span><span class="s4">"-created_date"</span><span class="s2">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>setPrompts(allPrompts);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span>} </span><span class="s1">catch</span><span class="s2"> (error) {</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>console.error(</span><span class="s4">"Failed to fetch prompts:"</span><span class="s2">, error);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span>} </span><span class="s1">finally</span><span class="s2"> {</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>setIsLoading(</span><span class="s1">false</span><span class="s2">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span>};</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span>fetchPrompts();</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span>}, []);</span></p>
<p class="p3"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> filteredPrompts = prompts.filter(prompt =&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span>prompt.title.toLowerCase().includes(searchTerm.toLowerCase()) ||</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span>prompt.prompt_text.toLowerCase().includes(searchTerm.toLowerCase()) ||</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span>prompt.category.toLowerCase().includes(searchTerm.toLowerCase())</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span>);</span></p>
<p class="p3"><span class="s6"></span><br></p>
<p class="p4"><span class="s5"><span class="Apple-converted-space">  </span></span><span class="s2">return</span><span class="s5"> (</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">    </span>&lt;div className=</span><span class="s2">"min-h-screen py-12 bg-slate-50"</span><span class="s5">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">      </span>&lt;div className=</span><span class="s2">"max-w-5xl mx-auto px-6"</span><span class="s5">&gt;</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">        </span>{</span><span class="s2">/* Header */</span><span class="s5">}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>&lt;motion.div</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span>initial={{ opacity: </span><span class="s7">0</span><span class="s2">, y: </span><span class="s7">30</span><span class="s2"> }}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span>animate={{ opacity: </span><span class="s7">1</span><span class="s2">, y: </span><span class="s7">0</span><span class="s2"> }}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span>className=</span><span class="s4">"text-center mb-12"</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">          </span>&lt;h1 className=</span><span class="s2">"text-5xl font-serif font-bold gradient-text mb-6"</span><span class="s5">&gt;</span></p>
<p class="p6"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s2">Guided</span><span class="s5"> </span><span class="s2">Writing</span><span class="s5"> </span><span class="s2">Prompts</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span>&lt;/h1&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">          </span>&lt;p className=</span><span class="s2">"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed"</span><span class="s5">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s3">Explore</span><span class="s2"> our collection </span><span class="s1">of</span><span class="s2"> </span><span class="s3">Oxford</span><span class="s2">-style prompts, designed to inspire reflection, creativity, and healing.</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span>&lt;/p&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>&lt;/motion.div&gt;</span></p>
<p class="p3"><span class="s6"></span><br></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">        </span>{</span><span class="s2">/* Search Bar */</span><span class="s5">}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>&lt;div className=</span><span class="s4">"mb-8 max-w-lg mx-auto"</span><span class="s2">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span>&lt;div className=</span><span class="s4">"relative"</span><span class="s2">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">            </span>&lt;</span><span class="s3">Search</span><span class="s5"> className=</span><span class="s2">"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"</span><span class="s5"> /&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">            </span>&lt;</span><span class="s3">Input</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">              </span>type=</span><span class="s4">"text"</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">              </span>placeholder=</span><span class="s2">"Search prompts by title, category, or keyword..."</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">              </span>value={searchTerm}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">              </span>onChange={(e) =&gt; setSearchTerm(e.target.value)}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">              </span>className=</span><span class="s4">"pl-10 py-6 rounded-xl"</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">            </span>/&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p3"><span class="s6"></span><br></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">        </span>{</span><span class="s2">/* Prompts Grid */</span><span class="s5">}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>{isLoading ? (</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">          </span>&lt;div className=</span><span class="s2">"flex justify-center items-center h-64"</span><span class="s5">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">            </span>&lt;</span><span class="s3">Loader2</span><span class="s5"> className=</span><span class="s2">"w-12 h-12 animate-spin text-blue-500"</span><span class="s5"> /&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>) : (</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">          </span>&lt;div className=</span><span class="s2">"grid md:grid-cols-2 gap-8"</span><span class="s5">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">            </span>{filteredPrompts.map((prompt, index) =&gt; (</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">              </span>&lt;motion.div</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">                </span>key={prompt.id}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">                </span>initial={{ opacity: </span><span class="s7">0</span><span class="s2">, y: </span><span class="s7">20</span><span class="s2"> }}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">                </span>animate={{ opacity: </span><span class="s7">1</span><span class="s2">, y: </span><span class="s7">0</span><span class="s2"> }}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">                </span>transition={{ delay: index * </span><span class="s7">0.05</span><span class="s2"> }}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">              </span>&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">                </span>&lt;</span><span class="s3">PromptCard</span><span class="s2"> prompt={prompt} /&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">              </span>&lt;/motion.div&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">            </span>))}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>)}</span></p>
<p class="p3"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>{filteredPrompts.length === </span><span class="s7">0</span><span class="s2"> &amp;&amp; !isLoading &amp;&amp; (</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span>&lt;div className=</span><span class="s4">"text-center py-16"</span><span class="s2">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">            </span>&lt;p className=</span><span class="s4">"text-gray-600"</span><span class="s2">&gt;</span><span class="s3">No</span><span class="s2"> prompts found matching your search.&lt;/p&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>)}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span>);</span></p>
<p class="p1"><span class="s2">}</span></p>
</body>
</html>

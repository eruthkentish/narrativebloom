<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; -webkit-text-stroke: #000000}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #900112; -webkit-text-stroke: #900112}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #0e6e6d; -webkit-text-stroke: #0e6e6d}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; -webkit-text-stroke: #000000; min-height: 16.0px}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #0f7001; -webkit-text-stroke: #0f7001}
    span.s1 {font-kerning: none; color: #0000ff; background-color: #fffffe; -webkit-text-stroke: 0px #0000ff}
    span.s2 {font-kerning: none; background-color: #fffffe}
    span.s3 {font-kerning: none; color: #0e6e6d; background-color: #fffffe; -webkit-text-stroke: 0px #0e6e6d}
    span.s4 {font-kerning: none; color: #900112; background-color: #fffffe; -webkit-text-stroke: 0px #900112}
    span.s5 {font-kerning: none; color: #000000; background-color: #fffffe; -webkit-text-stroke: 0px #000000}
    span.s6 {font-kerning: none}
    span.s7 {font-kerning: none; color: #0f7001; background-color: #fffffe; -webkit-text-stroke: 0px #0f7001}
  </style>
</head>
<body>
<p class="p1"><span class="s1">import</span><span class="s2"> </span><span class="s3">React</span><span class="s2">, { useState } </span><span class="s1">from</span><span class="s2"> </span><span class="s4">"react"</span><span class="s2">;</span></p>
<p class="p1"><span class="s1">import</span><span class="s2"> { motion, </span><span class="s3">AnimatePresence</span><span class="s2"> } </span><span class="s1">from</span><span class="s2"> </span><span class="s4">"framer-motion"</span><span class="s2">;</span></p>
<p class="p2"><span class="s1">import</span><span class="s5"> { </span><span class="s3">Link</span><span class="s5"> } </span><span class="s1">from</span><span class="s5"> </span><span class="s2">"react-router-dom"</span><span class="s5">;</span></p>
<p class="p1"><span class="s1">import</span><span class="s2"> { createPageUrl } </span><span class="s1">from</span><span class="s2"> </span><span class="s4">"@/utils"</span><span class="s2">;</span></p>
<p class="p2"><span class="s1">import</span><span class="s5"> { </span><span class="s3">Button</span><span class="s5"> } </span><span class="s1">from</span><span class="s5"> </span><span class="s2">"@/components/ui/button"</span><span class="s5">;</span></p>
<p class="p2"><span class="s1">import</span><span class="s5"> { </span><span class="s3">Card</span><span class="s5">, </span><span class="s3">CardContent</span><span class="s5"> } </span><span class="s1">from</span><span class="s5"> </span><span class="s2">"@/components/ui/card"</span><span class="s5">;</span></p>
<p class="p2"><span class="s1">import</span><span class="s5"> { </span><span class="s3">WritingEntry</span><span class="s5"> } </span><span class="s1">from</span><span class="s5"> </span><span class="s2">"@/entities/WritingEntry"</span><span class="s5">;</span></p>
<p class="p3"><span class="s1">import</span><span class="s5"> { </span><span class="s2">Edit</span><span class="s5">, </span><span class="s2">Trash2</span><span class="s5">, </span><span class="s2">Clock</span><span class="s5"> } </span><span class="s1">from</span><span class="s5"> </span><span class="s4">"lucide-react"</span><span class="s5">;</span></p>
<p class="p1"><span class="s1">import</span><span class="s2"> { format } </span><span class="s1">from</span><span class="s2"> </span><span class="s4">"date-fns"</span><span class="s2">;</span></p>
<p class="p4"><span class="s6"></span><br></p>
<p class="p1"><span class="s1">const</span><span class="s2"> writingTypes = [</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span>{</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">    </span>id: </span><span class="s2">'free_writing'</span><span class="s5">,</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">    </span>label: </span><span class="s2">'Free Writing'</span><span class="s5">,</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span>className: </span><span class="s4">'free-writing'</span><span class="s2">,</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">    </span>color: </span><span class="s4">'#4B0082'</span><span class="s5"> </span><span class="s2">// Dark purple</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span>},</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span>{</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">    </span>id: </span><span class="s2">'prompt_response'</span><span class="s5">,<span class="Apple-converted-space"> </span></span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">    </span>label: </span><span class="s2">'Prompt Responses'</span><span class="s5">,</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">    </span>className: </span><span class="s2">'prompt-responses'</span><span class="s5">,</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span>color: </span><span class="s4">'#8A2BE2'</span><span class="s2"> </span><span class="s7">// Violet</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span>},</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span>{</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">    </span>id: </span><span class="s2">'7_minute'</span><span class="s5">,</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">    </span>label: </span><span class="s2">'7-Minute Writing'</span><span class="s5">,</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span>className: </span><span class="s4">'seven-minute'</span><span class="s2">,</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">    </span>color: </span><span class="s4">'#1E90FF'</span><span class="s5"> </span><span class="s2">// Light blue</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span>},</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span>{</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">    </span>id: </span><span class="s2">'resources'</span><span class="s5">,</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">    </span>label: </span><span class="s2">'Resources (Mental Health Support Links)'</span><span class="s5">,</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span>className: </span><span class="s4">'resources'</span><span class="s2">,</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span>color: </span><span class="s4">'#20B2AA'</span><span class="s2"> </span><span class="s7">// Aqua/teal</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p1"><span class="s2">];</span></p>
<p class="p4"><span class="s6"></span><br></p>
<p class="p1"><span class="s1">export</span><span class="s2"> </span><span class="s1">default</span><span class="s2"> </span><span class="s1">function</span><span class="s2"> </span><span class="s3">Journal</span><span class="s2">({ entries, onRefresh }) {</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> [selectedType, setSelectedType] = useState(</span><span class="s4">'free_writing'</span><span class="s2">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> [selectedEntry, setSelectedEntry] = useState(</span><span class="s1">null</span><span class="s2">);</span></p>
<p class="p4"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> handleDelete = </span><span class="s1">async</span><span class="s2"> (entryId) =&gt; {</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">    </span></span><span class="s1">if</span><span class="s5"> (window.confirm(</span><span class="s2">"Are you sure you want to delete this entry? This action cannot be undone."</span><span class="s5">)) {</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s1">try</span><span class="s2"> {</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s1">await</span><span class="s2"> </span><span class="s3">WritingEntry</span><span class="s2">.</span><span class="s1">delete</span><span class="s2">(entryId);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s1">if</span><span class="s2"> (onRefresh) onRefresh();</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span>} </span><span class="s1">catch</span><span class="s2"> (error) {</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>console.error(</span><span class="s4">"Failed to delete entry:"</span><span class="s2">, error);</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">        </span>alert(</span><span class="s2">"There was an error deleting the entry. Please try again."</span><span class="s5">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span>};</span></p>
<p class="p4"><span class="s6"></span><br></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">  </span></span><span class="s2">// Categorize entries</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> categorizedEntries = {</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span>free_writing: entries.filter(e =&gt; e.entry_type === </span><span class="s4">'free_writing'</span><span class="s2">),</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space"> </span></span></p>
</body>
</html>
